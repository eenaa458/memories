<div class="container">
  <%= form_with(model: @memory, local: true ,id: 'new_memory') do |f| %>
    <% if memory.errors.any? %>
      <div id="error_explanation" class="alert alert-warning">
        <ul class="mb-0">
          <% memory.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <div class="d-flex justify-content-between mb-2">
      <%= link_to "Cancel", :back, {:class=>"btn btn-light"} %>
      <%= f.submit 'Submit', class: 'btn btn-primary'%>
    </div>
    <div class=" offset-md-1 col-md-10">
      <div class="field mb-4">
        <%= f.label :date, 'Date：' %></br>
        <%= f.date_field(:date) %>
      </div>
      <div class="form-group">
        <%= f.label :title, 'Title：' %>
        <%= f.text_field :title, class: 'form-control'%>
      </div>
      <div class="form-group">
        <%= f.label :content, 'Content：' %>
        <%= f.text_area :content, class: 'form-control' %>
      </div>
      <div class="memory_images-form">
        <%= f.fields_for :memory_images do |i| %>
          <%= i.label :memory_images, 'Images：' %></br>
          <%= i.file_field :image, multiple: true, type: 'file', name: "memory_images[image][]" %>
        <% end %>
        <p>＊'Ctrl'を押しながらクリックすると、画像を複数選択できます。</p>
      </div>
      <div class="caution mt-4">
      ＊全ての項目を埋めないとメモリーが記録されません。
      </div>
    </div>
  <% end %>
</div>

